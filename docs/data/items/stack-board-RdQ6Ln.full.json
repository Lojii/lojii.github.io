{
  "id": "stack-board-RdQ6Ln",
  "type": "repo",
  "name": "Stack Board",
  "nameEn": "stack_board",
  "url": "https://github.com/fluttercandies/stack_board",
  "summary": "层叠控件摆放，效果比较简单\n\n预览地址：https://xsilencex.github.io/stack_board_demo/",
  "description": "",
  "notes": "",
  "images": [
    "/assets/images/stack-board-RdQ6Ln/1.gif",
    "/assets/images/stack-board-RdQ6Ln/2.gif",
    "/assets/images/stack-board-RdQ6Ln/3.gif",
    "/assets/images/stack-board-RdQ6Ln/4.gif"
  ],
  "thumbnail": "/assets/images/stack-board-RdQ6Ln/thumb.gif",
  "category": "flutter",
  "tags": [
    "画板",
    "绘图"
  ],
  "github": {
    "stars": 91,
    "forks": 31,
    "language": "Dart",
    "license": "MIT",
    "lastUpdate": "2025-10-25",
    "topics": [],
    "createdAt": "2021-10-30"
  },
  "archived": false,
  "createdAt": "2026-01-24T08:22:17.117Z",
  "updatedAt": "2026-02-10T06:59:46.160Z",
  "originalContent": "<div id=\"readme\" class=\"md\" data-path=\"README.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">Stack Board</h1><a id=\"user-content-stack-board\" class=\"anchor\" aria-label=\"Permalink: Stack Board\" href=\"#stack-board\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">A Flutter package of custom stack board.</p>\n<p dir=\"auto\"><a href=\"https://pub.dev/packages/stack_board\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/b430a29abd4ed89f6098296d2e22ff691984337b198a9cfa3ce127c8808c937d/68747470733a2f2f696d672e736869656c64732e696f2f7075622f762f737461636b5f626f6172643f6c6f676f3d64617274266c6162656c3d737461626c65267374796c653d666c61742d737175617265\" alt=\"pub package\" data-canonical-src=\"https://img.shields.io/pub/v/stack_board?logo=dart&amp;label=stable&amp;style=flat-square\" style=\"max-width: 100%;\"></a>\n<a href=\"https://github.com/fluttercandies/stack_board/stargazers\"><img src=\"https://camo.githubusercontent.com/780d3bf389bce34ac9219a36ef955103dec454e7314c7219c43993dc38bc3845/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f666c757474657263616e646965732f737461636b5f626f6172643f6c6f676f3d676974687562267374796c653d666c61742d737175617265\" alt=\"GitHub stars\" data-canonical-src=\"https://img.shields.io/github/stars/fluttercandies/stack_board?logo=github&amp;style=flat-square\" style=\"max-width: 100%;\"></a>\n<a href=\"https://github.com/fluttercandies/stack_board/network/members\"><img src=\"https://camo.githubusercontent.com/7ce515b9f18ad5452db4d29ac04b2600130a9d6d04cb083129c1f2dbd96c28c2/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f666c757474657263616e646965732f737461636b5f626f6172643f6c6f676f3d676974687562267374796c653d666c61742d737175617265\" alt=\"GitHub forks\" data-canonical-src=\"https://img.shields.io/github/forks/fluttercandies/stack_board?logo=github&amp;style=flat-square\" style=\"max-width: 100%;\"></a>\n<a href=\"https://www.codefactor.io/repository/github/fluttercandies/stack_board\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/ef2d5e84df3d376a7cd4671c2669897bb31ed9ce7e1989e4d254dde502e4cee9/68747470733a2f2f696d672e736869656c64732e696f2f636f6465666163746f722f67726164652f6769746875622f666c757474657263616e646965732f737461636b5f626f6172643f6c6f676f3d636f6465666163746f72266c6f676f436f6c6f723d253233666666666666267374796c653d666c61742d737175617265\" alt=\"CodeFactor\" data-canonical-src=\"https://img.shields.io/codefactor/grade/github/fluttercandies/stack_board?logo=codefactor&amp;logoColor=%23ffffff&amp;style=flat-square\" style=\"max-width: 100%;\"></a>\n<a href=\"https://jq.qq.com/?_wv=1027&amp;k=5bcc0gy\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/75b53e353bb9e5064662e185a6d39f4bb88c4e45bd3a1240ddf599525edb6afa/68747470733a2f2f7075622e69647171696d672e636f6d2f7770612f696d616765732f67726f75702e706e67\" alt=\"FlutterCandies\" title=\"FlutterCandies\" data-canonical-src=\"https://pub.idqqimg.com/wpa/images/group.png\" style=\"max-width: 100%;\"></a></p>\n<br>\n<p dir=\"auto\">Try it: <a href=\"https://xsilencex.github.io/stack_board_demo/\" rel=\"nofollow\">Demo</a></p>\n<br>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">1.使用 StackBoardController</h2><a id=\"user-content-1使用-stackboardcontroller\" class=\"anchor\" aria-label=\"Permalink: 1.使用 StackBoardController\" href=\"#1使用-stackboardcontroller\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<br>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import 'package:stack_board/stack_board.dart';\n\nStackBoard(\n    controller: _boardController,\n    ///添加背景\n    background: const ColoredBox(color: Colors.grey),\n),\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-s\">'package:stack_board/stack_board.dart'</span>;\n\n<span class=\"pl-c1\">StackBoard</span>(\n    controller<span class=\"pl-k\">:</span> _boardController,\n    <span class=\"pl-c\">///添加背景</span>\n<span class=\"pl-c\"></span>    background<span class=\"pl-k\">:</span> <span class=\"pl-k\">const</span> <span class=\"pl-c1\">ColoredBox</span>(color<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Colors</span>.grey),\n),</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">添加自适应文本</h3><a id=\"user-content-添加自适应文本\" class=\"anchor\" aria-label=\"Permalink: 添加自适应文本\" href=\"#添加自适应文本\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<br>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_txt.gif\"><img src=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_txt.gif\" height=\"400\" data-animated-image=\"\" style=\"max-width: 100%; height: auto; max-height: 400px;\"></a></p>\n<br>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"_boardController.add(\n    const AdaptiveText(\n        'Flutter Candies',\n        tapToEdit: true,\n        style: TextStyle(fontWeight: FontWeight.bold),\n    ),\n);\"><pre>_boardController.<span class=\"pl-en\">add</span>(\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">AdaptiveText</span>(\n        <span class=\"pl-s\">'Flutter Candies'</span>,\n        tapToEdit<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n        style<span class=\"pl-k\">:</span> <span class=\"pl-c1\">TextStyle</span>(fontWeight<span class=\"pl-k\">:</span> <span class=\"pl-c1\">FontWeight</span>.bold),\n    ),\n);</pre></div>\n<br>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">添加自适应图片</h3><a id=\"user-content-添加自适应图片\" class=\"anchor\" aria-label=\"Permalink: 添加自适应图片\" href=\"#添加自适应图片\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<br>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_image.gif\"><img src=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_image.gif\" height=\"400\" data-animated-image=\"\" style=\"max-width: 100%; height: auto; max-height: 400px;\"></a></p>\n<br>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"_boardController.add(\n    StackBoardItem(\n        child: Image.network('https://avatars.githubusercontent.com/u/47586449?s=200&amp;v=4'),\n    ),\n);\"><pre>_boardController.<span class=\"pl-en\">add</span>(\n    <span class=\"pl-c1\">StackBoardItem</span>(\n        child<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Image</span>.<span class=\"pl-en\">network</span>(<span class=\"pl-s\">'https://avatars.githubusercontent.com/u/47586449?s=200&amp;v=4'</span>),\n    ),\n);</pre></div>\n<br>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">添加画板</h3><a id=\"user-content-添加画板\" class=\"anchor\" aria-label=\"Permalink: 添加画板\" href=\"#添加画板\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<br>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_draw.gif\"><img src=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_draw.gif\" height=\"400\" data-animated-image=\"\" style=\"max-width: 100%; height: auto; max-height: 400px;\"></a></p>\n<br>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"_boardController.add(\n    const StackDrawing(\n        caseStyle: CaseStyle(\n            borderColor: Colors.grey,\n            iconColor: Colors.white,\n            boxAspectRatio: 1,\n        ),\n    ),\n);\"><pre>_boardController.<span class=\"pl-en\">add</span>(\n    <span class=\"pl-k\">const</span> <span class=\"pl-c1\">StackDrawing</span>(\n        caseStyle<span class=\"pl-k\">:</span> <span class=\"pl-c1\">CaseStyle</span>(\n            borderColor<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Colors</span>.grey,\n            iconColor<span class=\"pl-k\">:</span> <span class=\"pl-c1\">Colors</span>.white,\n            boxAspectRatio<span class=\"pl-k\">:</span> <span class=\"pl-c1\">1</span>,\n        ),\n    ),\n);</pre></div>\n<br>\n<div class=\"markdown-heading\" dir=\"auto\"><h3 class=\"heading-element\" dir=\"auto\">添加自定义item</h3><a id=\"user-content-添加自定义item\" class=\"anchor\" aria-label=\"Permalink: 添加自定义item\" href=\"#添加自定义item\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<br>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_custom.gif\"><img src=\"https://raw.githubusercontent.com/xSILENCEx/project_images/main/stack_board/sb_custom.gif\" height=\"400\" data-animated-image=\"\" style=\"max-width: 100%; height: auto; max-height: 400px;\"></a></p>\n<br>\n<blockquote>\n<p dir=\"auto\">1.继承自 StackItemContent 和 StackItem</p>\n</blockquote>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"class ColorContent extends StackItemContent {\n  ColorContent({required this.color});\n\n  Color color;\n\n  @override\n  Map&lt;String, dynamic&gt; toJson() {\n    return &lt;String, dynamic&gt;{\n      'color': color.value,\n    };\n  }\n}\n\nclass ColorStackItem extends StackItem&lt;ColorContent&gt; {\n  ColorStackItem({\n    required Size size,\n    String? id,\n    Offset? offset,\n    double? angle,\n    StackItemStatus? status,\n    ColorContent? content,\n  }) : super(\n          id: id,\n          size: size,\n          offset: offset,\n          angle: angle,\n          status: status,\n          content: content,\n        );\n\n  @override\n  ColorStackItem copyWith({\n    Size? size,\n    Offset? offset,\n    double? angle,\n    StackItemStatus? status,\n    ColorContent? content,\n  }) {\n    return ColorStackItem(\n      id: id, // &lt;= must !!\n      size: size ?? this.size,\n      offset: offset ?? this.offset,\n      angle: angle ?? this.angle,\n      status: status ?? this.status,\n      content: content ?? this.content,\n    );\n  }\n}\"><pre><span class=\"pl-k\">class</span> <span class=\"pl-c1\">ColorContent</span> <span class=\"pl-k\">extends</span> <span class=\"pl-c1\">StackItemContent</span> {\n  <span class=\"pl-c1\">ColorContent</span>({<span class=\"pl-k\">required</span> <span class=\"pl-c1\">this</span>.color});\n\n  <span class=\"pl-c1\">Color</span> color;\n\n  <span class=\"pl-k\">@override</span>\n  <span class=\"pl-c1\">Map</span>&lt;<span class=\"pl-c1\">String</span>, <span class=\"pl-c1\">dynamic</span>&gt; <span class=\"pl-en\">toJson</span>() {\n    <span class=\"pl-k\">return</span> <span class=\"pl-k\">&lt;</span><span class=\"pl-c1\">String</span>, <span class=\"pl-c1\">dynamic</span><span class=\"pl-k\">&gt;</span>{\n      <span class=\"pl-s\">'color'</span><span class=\"pl-k\">:</span> color.value,\n    };\n  }\n}\n\n<span class=\"pl-k\">class</span> <span class=\"pl-c1\">ColorStackItem</span> <span class=\"pl-k\">extends</span> <span class=\"pl-c1\">StackItem</span>&lt;<span class=\"pl-c1\">ColorContent</span>&gt; {\n  <span class=\"pl-c1\">ColorStackItem</span>({\n    <span class=\"pl-k\">required</span> <span class=\"pl-c1\">Size</span> size,\n    <span class=\"pl-c1\">String</span><span class=\"pl-k\">?</span> id,\n    <span class=\"pl-c1\">Offset</span><span class=\"pl-k\">?</span> offset,\n    <span class=\"pl-c1\">double</span><span class=\"pl-k\">?</span> angle,\n    <span class=\"pl-c1\">StackItemStatus</span><span class=\"pl-k\">?</span> status,\n    <span class=\"pl-c1\">ColorContent</span><span class=\"pl-k\">?</span> content,\n  }) <span class=\"pl-k\">:</span> <span class=\"pl-c1\">super</span>(\n          id<span class=\"pl-k\">:</span> id,\n          size<span class=\"pl-k\">:</span> size,\n          offset<span class=\"pl-k\">:</span> offset,\n          angle<span class=\"pl-k\">:</span> angle,\n          status<span class=\"pl-k\">:</span> status,\n          content<span class=\"pl-k\">:</span> content,\n        );\n\n  <span class=\"pl-k\">@override</span>\n  <span class=\"pl-c1\">ColorStackItem</span> <span class=\"pl-en\">copyWith</span>({\n    <span class=\"pl-c1\">Size</span><span class=\"pl-k\">?</span> size,\n    <span class=\"pl-c1\">Offset</span><span class=\"pl-k\">?</span> offset,\n    <span class=\"pl-c1\">double</span><span class=\"pl-k\">?</span> angle,\n    <span class=\"pl-c1\">StackItemStatus</span><span class=\"pl-k\">?</span> status,\n    <span class=\"pl-c1\">ColorContent</span><span class=\"pl-k\">?</span> content,\n  }) {\n    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">ColorStackItem</span>(\n      id<span class=\"pl-k\">:</span> id, <span class=\"pl-c\">// &lt;= must !!</span>\n      size<span class=\"pl-k\">:</span> size <span class=\"pl-k\">??</span> <span class=\"pl-c1\">this</span>.size,\n      offset<span class=\"pl-k\">:</span> offset <span class=\"pl-k\">??</span> <span class=\"pl-c1\">this</span>.offset,\n      angle<span class=\"pl-k\">:</span> angle <span class=\"pl-k\">??</span> <span class=\"pl-c1\">this</span>.angle,\n      status<span class=\"pl-k\">:</span> status <span class=\"pl-k\">??</span> <span class=\"pl-c1\">this</span>.status,\n      content<span class=\"pl-k\">:</span> content <span class=\"pl-k\">??</span> <span class=\"pl-c1\">this</span>.content,\n    );\n  }\n}</pre></div>\n<blockquote>\n<p dir=\"auto\">2.使用controller添加</p>\n</blockquote>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"import 'dart:math' as math;\n\n...\n\n/// Add custom item\nvoid _addCustomItem() {\n    final Color color = Colors.primaries[Random().nextInt(Colors.primaries.length)];\n    _boardController.addItem(\n        ColorStackItem(\n        size: const Size.square(100),\n        content: ColorContent(color: color),\n        ),\n    );\n}\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-s\">'dart:math'</span> <span class=\"pl-k\">as</span> math;\n\n...\n\n<span class=\"pl-c\">/// Add custom item</span>\n<span class=\"pl-c\"></span><span class=\"pl-k\">void</span> <span class=\"pl-en\">_addCustomItem</span>() {\n    <span class=\"pl-k\">final</span> <span class=\"pl-c1\">Color</span> color <span class=\"pl-k\">=</span> <span class=\"pl-c1\">Colors</span>.primaries[<span class=\"pl-c1\">Random</span>().<span class=\"pl-en\">nextInt</span>(<span class=\"pl-c1\">Colors</span>.primaries.length)];\n    _boardController.<span class=\"pl-en\">addItem</span>(\n        <span class=\"pl-c1\">ColorStackItem</span>(\n        size<span class=\"pl-k\">:</span> <span class=\"pl-k\">const</span> <span class=\"pl-c1\">Size</span>.<span class=\"pl-en\">square</span>(<span class=\"pl-c1\">100</span>),\n        content<span class=\"pl-k\">:</span> <span class=\"pl-c1\">ColorContent</span>(color<span class=\"pl-k\">:</span> color),\n        ),\n    );\n}</pre></div>\n<blockquote>\n<p dir=\"auto\">3.使用customBuilder构建</p>\n</blockquote>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"StackBoard(\n    controller: _boardController,\n        /// 如果使用了继承于StackBoardItem的自定义item\n        /// 使用这个接口进行重构\n      customBuilder: (StackItem&lt;StackItemContent&gt; item) {\n          if (...) {\n\n           ...\n\n          } else if (item is ColorStackItem) {\n            return Container(\n              width: item.size.width,\n              height: item.size.height,\n              color: item.content?.color,\n            );\n          }\n\n          ...\n        },\n)\"><pre><span class=\"pl-c1\">StackBoard</span>(\n    controller<span class=\"pl-k\">:</span> _boardController,\n        <span class=\"pl-c\">/// 如果使用了继承于StackBoardItem的自定义item</span>\n<span class=\"pl-c\">        /// 使用这个接口进行重构</span>\n<span class=\"pl-c\"></span>      customBuilder<span class=\"pl-k\">:</span> (<span class=\"pl-c1\">StackItem</span>&lt;<span class=\"pl-c1\">StackItemContent</span>&gt; item) {\n          <span class=\"pl-k\">if</span> (...) {\n\n           ...\n\n          } <span class=\"pl-k\">else</span> <span class=\"pl-k\">if</span> (item <span class=\"pl-k\">is</span> <span class=\"pl-c1\">ColorStackItem</span>) {\n            <span class=\"pl-k\">return</span> <span class=\"pl-c1\">Container</span>(\n              width<span class=\"pl-k\">:</span> item.size.width,\n              height<span class=\"pl-k\">:</span> item.size.height,\n              color<span class=\"pl-k\">:</span> item.content<span class=\"pl-k\">?</span>.color,\n            );\n          }\n\n          ...\n        },\n)</pre></div>\n</article></div>"
}