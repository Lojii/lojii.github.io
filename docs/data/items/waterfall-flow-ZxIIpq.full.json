{
  "id": "waterfall-flow-ZxIIpq",
  "type": "repo",
  "name": "waterfall_flow",
  "nameEn": "waterfall_flow",
  "url": "https://github.com/fluttercandies/waterfall_flow",
  "summary": "快速构建瀑布流布局的列表",
  "description": "",
  "notes": "",
  "images": [
    "/assets/images/waterfall-flow-ZxIIpq/1.jpg",
    "/assets/images/waterfall-flow-ZxIIpq/2.jpg"
  ],
  "thumbnail": "/assets/images/waterfall-flow-ZxIIpq/thumb.jpg",
  "category": "flutter",
  "tags": [
    "瀑布流"
  ],
  "github": {
    "stars": 491,
    "forks": 51,
    "language": "Dart",
    "license": "MIT",
    "lastUpdate": "2026-02-06",
    "topics": [
      "flutter",
      "waterfall-flow"
    ],
    "createdAt": "2019-11-08"
  },
  "archived": false,
  "createdAt": "2026-01-22",
  "updatedAt": "2026-02-10T06:59:50.887Z",
  "originalContent": "<div id=\"readme\" class=\"md\" data-path=\"README.md\"><article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><div class=\"markdown-heading\" dir=\"auto\"><h1 class=\"heading-element\" dir=\"auto\">waterfall_flow</h1><a id=\"user-content-waterfall_flow\" class=\"anchor\" aria-label=\"Permalink: waterfall_flow\" href=\"#waterfall_flow\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\"><a href=\"https://pub.dartlang.org/packages/waterfall_flow\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/9eefbfb713b890e7e72678ad777440b42318e17d173a65f9b05e8f057190bff8/68747470733a2f2f696d672e736869656c64732e696f2f7075622f762f776174657266616c6c5f666c6f772e737667\" alt=\"pub package\" data-canonical-src=\"https://img.shields.io/pub/v/waterfall_flow.svg\" style=\"max-width: 100%;\"></a> <a href=\"https://github.com/fluttercandies/waterfall_flow/stargazers\"><img src=\"https://camo.githubusercontent.com/57391b11f3548f48f6170405c85a75c38a1b7dc0a979579820d15b3775e08788/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f666c757474657263616e646965732f776174657266616c6c5f666c6f77\" alt=\"GitHub stars\" data-canonical-src=\"https://img.shields.io/github/stars/fluttercandies/waterfall_flow\" style=\"max-width: 100%;\"></a> <a href=\"https://github.com/fluttercandies/waterfall_flow/network\"><img src=\"https://camo.githubusercontent.com/1b1a2922f4eb9ed18fab56736f153205f88e16b70639c97b2a5ced2a5fc0c7f2/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f666f726b732f666c757474657263616e646965732f776174657266616c6c5f666c6f77\" alt=\"GitHub forks\" data-canonical-src=\"https://img.shields.io/github/forks/fluttercandies/waterfall_flow\" style=\"max-width: 100%;\"></a>  <a href=\"https://github.com/fluttercandies/waterfall_flow/blob/master/LICENSE\"><img src=\"https://camo.githubusercontent.com/251ebb865389c3eb10d6fd60be58ab3b21dd5b508774b98aa7e8ed82a1825d1b/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f666c757474657263616e646965732f776174657266616c6c5f666c6f77\" alt=\"GitHub license\" data-canonical-src=\"https://img.shields.io/github/license/fluttercandies/waterfall_flow\" style=\"max-width: 100%;\"></a>  <a href=\"https://github.com/fluttercandies/waterfall_flow/issues\"><img src=\"https://camo.githubusercontent.com/8c4c31bdcdcd2416df41d57b75750f5b0787f0ab09a98d5c498331642d239539/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f666c757474657263616e646965732f776174657266616c6c5f666c6f77\" alt=\"GitHub issues\" data-canonical-src=\"https://img.shields.io/github/issues/fluttercandies/waterfall_flow\" style=\"max-width: 100%;\"></a> <a href=\"https://qm.qq.com/q/ZyJbSVjfSU\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/97f83e0ff7ce7b543327021d277a114680a2350ff796eed4c5cdc01cbc4fa9a1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f79616d6c3f75726c3d68747470732533412532462532467261772e67697468756275736572636f6e74656e742e636f6d253246666c757474657263616e646965732532462e6769746875622532467265667325324668656164732532466d61696e253246646174612e796d6c2671756572793d2532342e71715f67726f75705f6e756d626572266c6162656c3d5151254537254245254134266c6f676f3d717126636f6c6f723d314441434538\" alt=\"FlutterCandies QQ 群\" data-canonical-src=\"https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fraw.githubusercontent.com%2Ffluttercandies%2F.github%2Frefs%2Fheads%2Fmain%2Fdata.yml&amp;query=%24.qq_group_number&amp;label=QQ%E7%BE%A4&amp;logo=qq&amp;color=1DACE8\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\">A Flutter grid view easy to build waterfall flow layout quickly.</p>\n<p dir=\"auto\"><a href=\"https://fluttercandies.github.io/waterfall_flow/\" rel=\"nofollow\">Web demo for WaterfallFlow</a></p>\n<p dir=\"auto\">Language: English | <a href=\"https://github.com/fluttercandies/waterfall_flow/blob/HEAD/README-ZH.md\">中文简体</a></p>\n<ul dir=\"auto\">\n<li><a href=\"#waterfall_flow\">waterfall_flow</a>\n<ul dir=\"auto\">\n<li><a href=\"#use\">Use</a></li>\n<li><a href=\"#easy-to-use\">Easy to use</a></li>\n<li><a href=\"#collectgarbage\">CollectGarbage</a></li>\n<li><a href=\"#viewportbuilder\">ViewportBuilder</a></li>\n<li><a href=\"#lastchildlayouttypebuilder\">LastChildLayoutTypeBuilder</a></li>\n<li><a href=\"#closetotrailing\">CloseToTrailing</a></li>\n</ul>\n</li>\n</ul>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Use</h2><a id=\"user-content-use\" class=\"anchor\" aria-label=\"Permalink: Use\" href=\"#use\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<ul dir=\"auto\">\n<li>add library to your pubspec.yaml</li>\n</ul>\n<div class=\"highlight highlight-source-yaml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\ndependencies:\n  waterfall_flow: any\n\"><pre><span class=\"pl-ent\">dependencies</span>:\n  <span class=\"pl-ent\">waterfall_flow</span>: <span class=\"pl-s\">any</span>\n</pre></div>\n<ul dir=\"auto\">\n<li>import library in dart file</li>\n</ul>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"\n  import 'package:waterfall_flow/waterfall_flow.dart';\n\"><pre>  import <span class=\"pl-s\">'package:waterfall_flow/waterfall_flow.dart'</span>;\n</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">Easy to use</h2><a id=\"user-content-easy-to-use\" class=\"anchor\" aria-label=\"Permalink: Easy to use\" href=\"#easy-to-use\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<markdown-accessiblity-table><table>\n<thead>\n<tr>\n<th><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/random_sized.gif\"><img src=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/random_sized.gif\" alt=\"img\" data-animated-image=\"\" style=\"max-width: 100%;\"></a></th>\n<th><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/custom_scrollView.gif\"><img src=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/custom_scrollView.gif\" alt=\"img\" data-animated-image=\"\" style=\"max-width: 100%;\"></a></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/known_sized.gif\"><img src=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/known_sized.gif\" alt=\"img\" data-animated-image=\"\" style=\"max-width: 100%;\"></a></td>\n<td><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/variable_sized.gif\"><img src=\"https://raw.githubusercontent.com/fluttercandies/flutter_candies/master/gif/waterfall_flow/variable_sized.gif\" alt=\"img\" data-animated-image=\"\" style=\"max-width: 100%;\"></a></td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<p dir=\"auto\">you can define waterfall flow layout within SliverWaterfallFlowDelegate.</p>\n<ul dir=\"auto\">\n<li>SliverWaterfallFlowDelegateWithFixedCrossAxisCount</li>\n</ul>\n<markdown-accessiblity-table><table>\n<thead>\n<tr>\n<th>parameter</th>\n<th>description</th>\n<th>default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>crossAxisCount</td>\n<td>The number of children in the cross axis.</td>\n<td>required</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<ul dir=\"auto\">\n<li>SliverWaterfallFlowDelegateWithMaxCrossAxisExtent</li>\n</ul>\n<markdown-accessiblity-table><table>\n<thead>\n<tr>\n<th>parameter</th>\n<th>description</th>\n<th>default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>maxCrossAxisExtent</td>\n<td>The maximum extent of tiles in the cross axis.</td>\n<td>required</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<ul dir=\"auto\">\n<li>SliverWaterfallFlowDelegate</li>\n</ul>\n<markdown-accessiblity-table><table>\n<thead>\n<tr>\n<th>parameter</th>\n<th>description</th>\n<th>default</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>mainAxisSpacing</td>\n<td>The number of logical pixels between each child along the main axis.</td>\n<td>0.0</td>\n</tr>\n<tr>\n<td>crossAxisSpacing</td>\n<td>The number of logical pixels between each child along the cross axis.</td>\n<td>0.0</td>\n</tr>\n<tr>\n<td>collectGarbage</td>\n<td>Call when collect garbage, return indexs to collect</td>\n<td>-</td>\n</tr>\n<tr>\n<td>lastChildLayoutTypeBuilder</td>\n<td>The builder to get layout type of last child ,Notice: it should only for last child</td>\n<td>-</td>\n</tr>\n<tr>\n<td>viewportBuilder</td>\n<td>The builder to get indexs in viewport</td>\n<td>-</td>\n</tr>\n<tr>\n<td>closeToTrailing</td>\n<td>Whether make layout close to trailing</td>\n<td>false</td>\n</tr>\n</tbody>\n</table></markdown-accessiblity-table>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"            WaterfallFlow.builder(\n              //cacheExtent: 0.0,\n              padding: EdgeInsets.all(5.0),\n              gridDelegate: SliverWaterfallFlowDelegateWithFixedCrossAxisCount(\n                  crossAxisCount: 2,\n                  crossAxisSpacing: 5.0,\n                  mainAxisSpacing: 5.0,\n                  /// follow max child trailing layout offset and layout with full cross axis extend\n                  /// last child as loadmore item/no more item in [GridView] and [WaterfallFlow]\n                  /// with full cross axis extend\n                  //  LastChildLayoutType.fullCrossAxisExtend,\n\n                  /// as foot at trailing and layout with full cross axis extend\n                  /// show no more item at trailing when children are not full of viewport\n                  /// if children is full of viewport, it's the same as fullCrossAxisExtend\n                  //  LastChildLayoutType.foot,\n                  lastChildLayoutTypeBuilder: (index) =&gt; index == _list.length\n                      ? LastChildLayoutType.foot\n                      : LastChildLayoutType.none,\n                  ),\n\"><pre>            <span class=\"pl-c1\">WaterfallFlow</span>.<span class=\"pl-en\">builder</span>(\n              <span class=\"pl-c\">//cacheExtent: 0.0,</span>\n              padding<span class=\"pl-k\">:</span> <span class=\"pl-c1\">EdgeInsets</span>.<span class=\"pl-en\">all</span>(<span class=\"pl-c1\">5.0</span>),\n              gridDelegate<span class=\"pl-k\">:</span> <span class=\"pl-c1\">SliverWaterfallFlowDelegateWithFixedCrossAxisCount</span>(\n                  crossAxisCount<span class=\"pl-k\">:</span> <span class=\"pl-c1\">2</span>,\n                  crossAxisSpacing<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5.0</span>,\n                  mainAxisSpacing<span class=\"pl-k\">:</span> <span class=\"pl-c1\">5.0</span>,\n                  <span class=\"pl-c\">/// follow max child trailing layout offset and layout with full cross axis extend</span>\n<span class=\"pl-c\">                  /// last child as loadmore item/no more item in <span class=\"pl-v\">[GridView]</span> and <span class=\"pl-v\">[WaterfallFlow]</span></span>\n<span class=\"pl-c\">                  /// with full cross axis extend</span>\n<span class=\"pl-c\"></span>                  <span class=\"pl-c\">//  LastChildLayoutType.fullCrossAxisExtend,</span>\n\n                  <span class=\"pl-c\">/// as foot at trailing and layout with full cross axis extend</span>\n<span class=\"pl-c\">                  /// show no more item at trailing when children are not full of viewport</span>\n<span class=\"pl-c\">                  /// if children is full of viewport, it's the same as fullCrossAxisExtend</span>\n<span class=\"pl-c\"></span>                  <span class=\"pl-c\">//  LastChildLayoutType.foot,</span>\n                  lastChildLayoutTypeBuilder<span class=\"pl-k\">:</span> (index) <span class=\"pl-k\">=&gt;</span> index <span class=\"pl-k\">==</span> _list.length\n                      <span class=\"pl-k\">?</span> <span class=\"pl-c1\">LastChildLayoutType</span>.foot\n                      <span class=\"pl-k\">:</span> <span class=\"pl-c1\">LastChildLayoutType</span>.none,\n                  ),\n</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">CollectGarbage</h2><a id=\"user-content-collectgarbage\" class=\"anchor\" aria-label=\"Permalink: CollectGarbage\" href=\"#collectgarbage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">track the indexes are collect, you can collect garbage at that monment(for example Image cache)</p>\n<p dir=\"auto\"><a href=\"https://github.com/fluttercandies/extended_image/blob/e1577bc4d0b57c725110a9d886703b98a72772b5/example/lib/pages/photo_view_demo.dart#L91\">more detail</a></p>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"        WaterfallFlow.builder(\n            gridDelegate: SliverWaterfallFlowDelegateWithFixedCrossAxisCount(\n                collectGarbage: (List&lt;int&gt; garbages) {\n                  ///collectGarbage\n                  garbages.forEach((index) {\n                    final provider = ExtendedNetworkImageProvider(\n                      _list[index].imageUrl,\n                    );\n                    provider.evict();\n                  });\n                },\n              ),\"><pre>        <span class=\"pl-c1\">WaterfallFlow</span>.<span class=\"pl-en\">builder</span>(\n            gridDelegate<span class=\"pl-k\">:</span> <span class=\"pl-c1\">SliverWaterfallFlowDelegateWithFixedCrossAxisCount</span>(\n                collectGarbage<span class=\"pl-k\">:</span> (<span class=\"pl-c1\">List</span>&lt;<span class=\"pl-c1\">int</span>&gt; garbages) {\n                  <span class=\"pl-c\">///collectGarbage</span>\n<span class=\"pl-c\"></span>                  garbages.<span class=\"pl-en\">forEach</span>((index) {\n                    <span class=\"pl-k\">final</span> provider <span class=\"pl-k\">=</span> <span class=\"pl-c1\">ExtendedNetworkImageProvider</span>(\n                      _list[index].imageUrl,\n                    );\n                    provider.<span class=\"pl-en\">evict</span>();\n                  });\n                },\n              ),</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">ViewportBuilder</h2><a id=\"user-content-viewportbuilder\" class=\"anchor\" aria-label=\"Permalink: ViewportBuilder\" href=\"#viewportbuilder\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">track the indexes go into the viewport, it's not include cache extent.</p>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"        WaterfallFlow.builder(\n            gridDelegate: SliverWaterfallFlowDelegateWithFixedCrossAxisCount(\n                viewportBuilder: (int firstIndex, int lastIndex) {\n                print(&quot;viewport : [$firstIndex,$lastIndex]&quot;);\n                }),\"><pre>        <span class=\"pl-c1\">WaterfallFlow</span>.<span class=\"pl-en\">builder</span>(\n            gridDelegate<span class=\"pl-k\">:</span> <span class=\"pl-c1\">SliverWaterfallFlowDelegateWithFixedCrossAxisCount</span>(\n                viewportBuilder<span class=\"pl-k\">:</span> (<span class=\"pl-c1\">int</span> firstIndex, <span class=\"pl-c1\">int</span> lastIndex) {\n                <span class=\"pl-en\">print</span>(<span class=\"pl-s\">\"viewport : [$<span class=\"pl-v\">firstIndex</span>,$<span class=\"pl-v\">lastIndex</span>]\"</span>);\n                }),</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">LastChildLayoutTypeBuilder</h2><a id=\"user-content-lastchildlayouttypebuilder\" class=\"anchor\" aria-label=\"Permalink: LastChildLayoutTypeBuilder\" href=\"#lastchildlayouttypebuilder\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">build lastChild as special child in the case that it is loadmore/no more item.</p>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"        enum LastChildLayoutType {\n        /// as default child\n        none,\n\n        /// follow max child trailing layout offset and layout with full cross axis extend\n        /// last child as loadmore item/no more item in [ExtendedGridView] and [WaterfallFlow]\n        /// with full cross axis extend\n        fullCrossAxisExtend,\n\n        /// as foot at trailing and layout with full cross axis extend\n        /// show no more item at trailing when children are not full of viewport\n        /// if children is full of viewport, it's the same as fullCrossAxisExtend\n        foot,\n        }\n\n      WaterfallFlow.builder(\n        gridDelegate: SliverWaterfallFlowDelegateWithFixedCrossAxisCount(\n            lastChildLayoutTypeBuilder: (index) =&gt; index == length\n                ? LastChildLayoutType.foot\n                : LastChildLayoutType.none,\n            ),\"><pre>        <span class=\"pl-k\">enum</span> <span class=\"pl-c1\">LastChildLayoutType</span> {\n        <span class=\"pl-c\">/// as default child</span>\n<span class=\"pl-c\"></span>        none,\n\n        <span class=\"pl-c\">/// follow max child trailing layout offset and layout with full cross axis extend</span>\n<span class=\"pl-c\">        /// last child as loadmore item/no more item in <span class=\"pl-v\">[ExtendedGridView]</span> and <span class=\"pl-v\">[WaterfallFlow]</span></span>\n<span class=\"pl-c\">        /// with full cross axis extend</span>\n<span class=\"pl-c\"></span>        fullCrossAxisExtend,\n\n        <span class=\"pl-c\">/// as foot at trailing and layout with full cross axis extend</span>\n<span class=\"pl-c\">        /// show no more item at trailing when children are not full of viewport</span>\n<span class=\"pl-c\">        /// if children is full of viewport, it's the same as fullCrossAxisExtend</span>\n<span class=\"pl-c\"></span>        foot,\n        }\n\n      <span class=\"pl-c1\">WaterfallFlow</span>.<span class=\"pl-en\">builder</span>(\n        gridDelegate<span class=\"pl-k\">:</span> <span class=\"pl-c1\">SliverWaterfallFlowDelegateWithFixedCrossAxisCount</span>(\n            lastChildLayoutTypeBuilder<span class=\"pl-k\">:</span> (index) <span class=\"pl-k\">=&gt;</span> index <span class=\"pl-k\">==</span> length\n                <span class=\"pl-k\">?</span> <span class=\"pl-c1\">LastChildLayoutType</span>.foot\n                <span class=\"pl-k\">:</span> <span class=\"pl-c1\">LastChildLayoutType</span>.none,\n            ),</pre></div>\n<div class=\"markdown-heading\" dir=\"auto\"><h2 class=\"heading-element\" dir=\"auto\">CloseToTrailing</h2><a id=\"user-content-closetotrailing\" class=\"anchor\" aria-label=\"Permalink: CloseToTrailing\" href=\"#closetotrailing\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></div>\n<p dir=\"auto\">when reverse property of List is true, layout is as following.\nit likes chat list, and new session will insert to zero index.\nbut it's not right when items are not full of viewport.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"     trailing\n-----------------\n|               |\n|               |\n|     item2     |\n|     item1     |\n|     item0     |\n-----------------\n     leading\"><pre class=\"notranslate\"><code>     trailing\n-----------------\n|               |\n|               |\n|     item2     |\n|     item1     |\n|     item0     |\n-----------------\n     leading\n</code></pre></div>\n<p dir=\"auto\">to solve it, you could set closeToTrailing to true, layout is as following.\nsupport [ExtendedGridView],[ExtendedList],[WaterfallFlow].\nand it also works when reverse is flase, layout will close to trailing.</p>\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"     trailing\n-----------------\n|     item2     |\n|     item1     |\n|     item0     |\n|               |\n|               |\n-----------------\n     leading\"><pre class=\"notranslate\"><code>     trailing\n-----------------\n|     item2     |\n|     item1     |\n|     item0     |\n|               |\n|               |\n-----------------\n     leading\n</code></pre></div>\n<div class=\"highlight highlight-source-dart notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"      WaterfallFlow.builder(\n        reverse: true,\n        gridDelegate: SliverWaterfallFlowDelegateWithFixedCrossAxisCount(closeToTrailing: true),\"><pre>      <span class=\"pl-c1\">WaterfallFlow</span>.<span class=\"pl-en\">builder</span>(\n        reverse<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>,\n        gridDelegate<span class=\"pl-k\">:</span> <span class=\"pl-c1\">SliverWaterfallFlowDelegateWithFixedCrossAxisCount</span>(closeToTrailing<span class=\"pl-k\">:</span> <span class=\"pl-c1\">true</span>),</pre></div>\n</article></div>"
}